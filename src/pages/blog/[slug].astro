---
import Base from '../../layouts/BaseLayout.astro';
import Header from '../../components/Header.astro';
import Footer from '../../components/Footer.astro';
import { getCollection } from 'astro:content';
const posts = await getCollection('blog');
const { slug } = Astro.params;
const post = posts.find(p => p.slug === slug);
if (!post) throw new Error('Post not found');
---
<Base title={`${post.data.title} â€” Insights`} description={post.data.excerpt}>
  <Header />
  <section class="container section">
    <article class="card">
      <h1 style="margin-top:0">{post.data.title}</h1>
      <div class="muted small" style="margin:-6px 0 12px">{post.data.pubDate?.toString()}</div>
      <div set:html={post.body} />
    </article>
  </section>
  <Footer />
</Base>
